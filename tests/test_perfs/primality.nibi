

(fn is_prime [n] [
  (if (<= n 1) (<- false))
  (if (<= n 3) (<- true))
  (if
      (or
        (eq false (% n 2))
        (eq false (% n 3)))
      (<- false))

  (loop (:= i 5) (<= (* i i) n) (set i (+ i 6))
    (if
      (or
        (eq false (% n i))
        (eq false (% n (+ i 2))))
      (<- false)))
  (<- true)
])

(:= primes [])
(loop (:= i 0) (< i 100000) (set i (+ i 1))
  (if (eq true (is_prime i)) (|< primes i)))

